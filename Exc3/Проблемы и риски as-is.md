# Проблематика и риски

1. Сервис ins-product-aggregator начинает опрашивать все страховые (т.е. внешние сервисы) в момент синхронного обращения core-app или ins-comp-settlement к нему. Это приводит к:
- Это приводит к долгому ожиданию ответа запрашивающим серсивом
- Риску получения ошибки запрашивающим сервисом, т.к. для получения успешного ответа, все подключенные страховые должны ответить успешно
- Увеличению рисков ошибок и времени получения данных от ins-product-aggregator в случае роста количества подключенных страховых
2. Сервисы core-app или ins-comp-settlement запрашивают данные у ins-product-aggregator в разное время. Это приводит к риску рассинхронизации данных в core-app или ins-comp-settlement
3.  Сервис ins-comp-settlement раз в сутки осуществляет запрос в core-app по REST API для получения всех оформленных за день страховок. В случае роста бизнеса, будет генериться объемный ответ и расти риски технических ошибок

# Решения

1. Перевести взаимодействие между ins-product-aggregator и сервисами core-app и ins-comp-settlement в части получения данных о страховых продуктах и тарифах на EDA
2. Перевести взаимодействие между ins-comp-settlement и core-app в части передачи информации об оформленных страховках на EDA
3. Использовать паттерн Transactional Outbox для взаимодействия между ins-comp-settlement и core-app в части передачи информации об оформленных страховках - для нивелирования риска потери информации